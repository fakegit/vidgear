<!--
===============================================
vidgear library source-code is deployed under the Apache 2.0 License:

Copyright (c) 2019-2020 Abhishek Thakur(@abhiTronix) <abhi.una12@gmail.com>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
===============================================
--> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="High-Performance Framework for building complex real-time media applications in python."><meta name=author content="Abhishek Thakur"><link href=https://github.com/abhiTronix/vidgear/gears/streamgear/usage/ rel=canonical><link rel="shortcut icon" href=../../../assets/images/favicon-32.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.3"><title>Usage Examples - VidGear</title><link rel=stylesheet href=../../../assets/stylesheets/main.3b61ea93.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#ab47bd><script src=../../../assets/javascripts/dark-material.js type=text/javascript></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/gh/clappr/clappr-level-selector-plugin@latest/dist/level-selector.min.js></script><script src=https://cdn.jsdelivr.net/gh/clappr/dash-shaka-playback@latest/dist/dash-shaka-playback.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Nunito:300,400,400i,700%7CIBM+Plex&display=fallback"><style>body,input{font-family:"Nunito",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"IBM Plex",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=manifest href=../../../site.webmanifest crossorigin=use-credentials><link rel=stylesheet href=../../../assets/stylesheets/custom.css><link rel=stylesheet href=../../../assets/stylesheets/version-select.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-131929464-1","abhitronix.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=purple data-md-color-accent=dark-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#streamgear-api-usage-examples class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <!--
===============================================
vidgear library source-code is deployed under the Apache 2.0 License:

Copyright (c) 2019-2020 Abhishek Thakur(@abhiTronix) <abhi.una12@gmail.com>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
===============================================
--> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://github.com/abhiTronix/vidgear title=VidGear class="md-header-nav__button md-logo" aria-label=VidGear> <img src=../../../assets/images/logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> VidGear </span> <span class="md-header-nav__topic md-ellipsis"> Usage Examples </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class="md-header-nav__scheme md-header-nav__button md-icon"> <a href=# onclick=javascript:toggleScheme(); title="Light mode" class=light-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.55 18.54l1.41 1.41 1.8-1.79-1.42-1.42M11 22.45h2V19.5h-2m1-14a6 6 0 00-6 6 6 6 0 006 6 6 6 0 006-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.66l1.8 1.79 1.41-1.41-1.79-1.8m1.79-12.28l-1.41-1.41-1.8 1.79 1.42 1.42M13 .55h-2V3.5h2m-9 7H1v2h3m2.76-7.66l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42z"/></svg> </a> <a href=# onclick=javascript:toggleScheme(); title="Dark mode" class=dark-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.75 4.09l-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91l-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 008.02 2.89m-1.64 2.02a12.08 12.08 0 01-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg> </a> <a href=# onclick=javascript:toggleScheme(); title="System preference" class=system-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 017.5 2m11.57 1.5l1.43 1.43L4.93 20.5 3.5 19.07 19.07 3.5m-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13.51 1.67m-3.3 3.61l-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87.4 1.31M19 13.5a5.5 5.5 0 01-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58l2.77-1.15-.24 3.35-2.53-2.2m4.33-2.7l1.15-2.77 2.2 2.54-3.35.23m1.15-4.96l-1.14-2.78 3.34.24-2.2 2.54M9.63 18.93l2.77 1.15-2.53 2.19-.24-3.34z"/></svg> </a> </div> <div class=md-header-nav__source> <a href=https://github.com/abhiTronix/vidgear title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> abhiTronix/vidgear </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Gears </a> </li> <li class=md-tabs__item> <a href=../../../bonus/reference/camgear/ class=md-tabs__link> Bonus </a> </li> <li class=md-tabs__item> <a href=../../../help/ class=md-tabs__link> Help </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://github.com/abhiTronix/vidgear title=VidGear class="md-nav__button md-logo" aria-label=VidGear> <img src=../../../assets/images/logo.svg alt=logo> </a> VidGear </label> <div class=md-nav__source> <a href=https://github.com/abhiTronix/vidgear title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> abhiTronix/vidgear </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Installation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installation data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../installation/ class=md-nav__link> Installation Overview </a> </li> <li class=md-nav__item> <a href=../../../installation/pip_install/ class=md-nav__link> Install using pip </a> </li> <li class=md-nav__item> <a href=../../../installation/source_install/ class=md-nav__link> Install from source </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../switch_from_cv/ class=md-nav__link> Switching from OpenCV </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4> <label class=md-nav__link for=nav-1-4> Contribution Guidelines <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Contribution Guidelines" data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"></span> Contribution Guidelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../contribution/ class=md-nav__link> Contribution Overview </a> </li> <li class=md-nav__item> <a href=../../../contribution/issue/ class=md-nav__link> Submitting an Issue Guidelines </a> </li> <li class=md-nav__item> <a href=../../../contribution/PR/ class=md-nav__link> Submitting Pull Request(PR) Guidelines </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../changelog/ class=md-nav__link> Release Notes </a> </li> <li class=md-nav__item> <a href=../../../license/ class=md-nav__link> License </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> Gears <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Gears data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Gears </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> CamGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CamGear data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"></span> CamGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../camgear/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../camgear/usage/ class=md-nav__link> Usage Examples </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-3 type=checkbox id=nav-2-2-3> <label class=md-nav__link for=nav-2-2-3> Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Advanced data-md-level=3> <label class=md-nav__title for=nav-2-2-3> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../camgear/advanced/source_params/ class=md-nav__link> Source Tweak Parameters </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../camgear/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/camgear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/camgear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> PiGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=PiGear data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"></span> PiGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pigear/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../pigear/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../pigear/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/pigear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/pigear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> VideoGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=VideoGear data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"></span> VideoGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../videogear/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../videogear/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../videogear/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/videogear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/videogear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-5 type=checkbox id=nav-2-5> <label class=md-nav__link for=nav-2-5> ScreenGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=ScreenGear data-md-level=2> <label class=md-nav__title for=nav-2-5> <span class="md-nav__icon md-icon"></span> ScreenGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../screengear/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../screengear/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../screengear/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/screengear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/screengear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-6 type=checkbox id=nav-2-6> <label class=md-nav__link for=nav-2-6> WriteGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=WriteGear data-md-level=2> <label class=md-nav__title for=nav-2-6> <span class="md-nav__icon md-icon"></span> WriteGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../writegear/introduction/ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-6-2 type=checkbox id=nav-2-6-2> <label class=md-nav__link for=nav-2-6-2> Compression Mode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Compression Mode" data-md-level=3> <label class=md-nav__title for=nav-2-6-2> <span class="md-nav__icon md-icon"></span> Compression Mode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../writegear/compression/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../writegear/compression/usage/ class=md-nav__link> Usage Examples </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-6-2-3 type=checkbox id=nav-2-6-2-3> <label class=md-nav__link for=nav-2-6-2-3> Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Advanced data-md-level=4> <label class=md-nav__title for=nav-2-6-2-3> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../writegear/compression/advanced/cciw/ class=md-nav__link> Custom FFmpeg Commands </a> </li> <li class=md-nav__item> <a href=../../writegear/compression/advanced/ffmpeg_install/ class=md-nav__link> FFmpeg Installation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../writegear/compression/params/ class=md-nav__link> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-6-3 type=checkbox id=nav-2-6-3> <label class=md-nav__link for=nav-2-6-3> Non-Compression Mode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Non-Compression Mode" data-md-level=3> <label class=md-nav__title for=nav-2-6-3> <span class="md-nav__icon md-icon"></span> Non-Compression Mode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../writegear/non_compression/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../writegear/non_compression/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../writegear/non_compression/params/ class=md-nav__link> Parameters </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../bonus/reference/writegear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/writegear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-7 type=checkbox id=nav-2-7 checked> <label class=md-nav__link for=nav-2-7> StreamGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=StreamGear data-md-level=2> <label class=md-nav__title for=nav-2-7> <span class="md-nav__icon md-icon"></span> StreamGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Usage Examples <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Usage Examples </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#a-single-source-mode class=md-nav__link> A. Single-Source Mode </a> <nav class=md-nav aria-label="A. Single-Source Mode"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a1-bare-minimum-usage class=md-nav__link> A.1 Bare-Minimum Usage </a> </li> <li class=md-nav__item> <a href=#a2-bare-minimum-usage-with-live-streaming class=md-nav__link> A.2 Bare-Minimum Usage with Live-Streaming </a> </li> <li class=md-nav__item> <a href=#a3-usage-with-additional-streams class=md-nav__link> A.3 Usage with Additional Streams </a> </li> <li class=md-nav__item> <a href=#a4-usage-with-custom-audio class=md-nav__link> A.4 Usage with Custom Audio </a> </li> <li class=md-nav__item> <a href=#a5-usage-with-variable-ffmpeg-parameters class=md-nav__link> A.5 Usage with Variable FFmpeg Parameters </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#b-real-time-frames-mode class=md-nav__link> B. Real-time Frames Mode </a> <nav class=md-nav aria-label="B. Real-time Frames Mode"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#b1-bare-minimum-usage class=md-nav__link> B.1 Bare-Minimum Usage </a> </li> <li class=md-nav__item> <a href=#b2-bare-minimum-usage-with-live-streaming class=md-nav__link> B.2 Bare-Minimum Usage with Live-Streaming </a> </li> <li class=md-nav__item> <a href=#b3-bare-minimum-usage-with-rgb-mode class=md-nav__link> B.3 Bare-Minimum Usage with RGB Mode </a> </li> <li class=md-nav__item> <a href=#b4-bare-minimum-usage-with-controlled-input-framerate class=md-nav__link> B.4 Bare-Minimum Usage with controlled Input-framerate </a> </li> <li class=md-nav__item> <a href=#b5-bare-minimum-usage-with-opencv class=md-nav__link> B.5 Bare-Minimum Usage with OpenCV </a> </li> <li class=md-nav__item> <a href=#b6-usage-with-additional-streams class=md-nav__link> B.6 Usage with Additional Streams </a> </li> <li class=md-nav__item> <a href=#b7-usage-with-audio-input class=md-nav__link> B.7 Usage with Audio-Input </a> </li> <li class=md-nav__item> <a href=#b8-usage-with-hardware-video-encoder class=md-nav__link> B.8 Usage with Hardware Video-Encoder </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-7-3 type=checkbox id=nav-2-7-3> <label class=md-nav__link for=nav-2-7-3> Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Advanced data-md-level=3> <label class=md-nav__title for=nav-2-7-3> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ffmpeg_install/ class=md-nav__link> FFmpeg Installation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/streamgear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/streamgear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-8 type=checkbox id=nav-2-8> <label class=md-nav__link for=nav-2-8> NetGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=NetGear data-md-level=2> <label class=md-nav__title for=nav-2-8> <span class="md-nav__icon md-icon"></span> NetGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../netgear/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../netgear/usage/ class=md-nav__link> Usage Examples </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-8-3 type=checkbox id=nav-2-8-3> <label class=md-nav__link for=nav-2-8-3> Advanced Usage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced Usage" data-md-level=3> <label class=md-nav__title for=nav-2-8-3> <span class="md-nav__icon md-icon"></span> Advanced Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../netgear/advanced/multi_server/ class=md-nav__link> Multi-Servers Mode </a> </li> <li class=md-nav__item> <a href=../../netgear/advanced/multi_client/ class=md-nav__link> Multi-Clients Mode </a> </li> <li class=md-nav__item> <a href=../../netgear/advanced/bidirectional_mode/ class=md-nav__link> Bidirectional Mode </a> </li> <li class=md-nav__item> <a href=../../netgear/advanced/secure_mode/ class=md-nav__link> Secure Mode </a> </li> <li class=md-nav__item> <a href=../../netgear/advanced/compression/ class=md-nav__link> Frame Compression </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../netgear/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/netgear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/netgear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-9 type=checkbox id=nav-2-9> <label class=md-nav__link for=nav-2-9> WebGear <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=WebGear data-md-level=2> <label class=md-nav__title for=nav-2-9> <span class="md-nav__icon md-icon"></span> WebGear </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../webgear/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../webgear/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../webgear/advanced/ class=md-nav__link> Advanced Usages </a> </li> <li class=md-nav__item> <a href=../../webgear/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/webgear/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/webgear_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-10 type=checkbox id=nav-2-10> <label class=md-nav__link for=nav-2-10> NetGear_Async <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=NetGear_Async data-md-level=2> <label class=md-nav__title for=nav-2-10> <span class="md-nav__icon md-icon"></span> NetGear_Async </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../netgear_async/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../netgear_async/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../netgear_async/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/netgear_async/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/netgear_async_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-11 type=checkbox id=nav-2-11> <label class=md-nav__link for=nav-2-11> Stabilizer Class <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Stabilizer Class" data-md-level=2> <label class=md-nav__title for=nav-2-11> <span class="md-nav__icon md-icon"></span> Stabilizer Class </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../stabilizer/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../stabilizer/usage/ class=md-nav__link> Usage Examples </a> </li> <li class=md-nav__item> <a href=../../stabilizer/params/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/stabilizer/ class=md-nav__link> References </a> </li> <li class=md-nav__item> <a href=../../../help/stabilizer_faqs/ class=md-nav__link> FAQs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Bonus <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Bonus data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Bonus </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> API References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="API References" data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"></span> API References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1-1 type=checkbox id=nav-3-1-1> <label class=md-nav__link for=nav-3-1-1> vidgear.gears <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=vidgear.gears data-md-level=3> <label class=md-nav__title for=nav-3-1-1> <span class="md-nav__icon md-icon"></span> vidgear.gears </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bonus/reference/camgear/ class=md-nav__link> CamGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/pigear/ class=md-nav__link> PiGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/videogear/ class=md-nav__link> VideoGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/screengear/ class=md-nav__link> ScreenGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/writegear/ class=md-nav__link> WriteGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/streamgear/ class=md-nav__link> StreamGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/netgear/ class=md-nav__link> NetGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/stabilizer/ class=md-nav__link> Stabilizer Class </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/helper/ class=md-nav__link> Helper Methods </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1-2 type=checkbox id=nav-3-1-2> <label class=md-nav__link for=nav-3-1-2> vidgear.gears.asyncio <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=vidgear.gears.asyncio data-md-level=3> <label class=md-nav__title for=nav-3-1-2> <span class="md-nav__icon md-icon"></span> vidgear.gears.asyncio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bonus/reference/webgear/ class=md-nav__link> WebGear API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/netgear_async/ class=md-nav__link> NetGear_Async API </a> </li> <li class=md-nav__item> <a href=../../../bonus/reference/helper_async/ class=md-nav__link> Helper Methods </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../bonus/colorspace_manipulation/ class=md-nav__link> Colorspace Manipulation </a> </li> <li class=md-nav__item> <a href=../../../bonus/TQM/ class=md-nav__link> Threaded Queue Mode </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Help data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-1 type=checkbox id=nav-4-1> <label class=md-nav__link for=nav-4-1> Help VidGear 'n' Get Help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Help VidGear 'n' Get Help" data-md-level=2> <label class=md-nav__title for=nav-4-1> <span class="md-nav__icon md-icon"></span> Help VidGear 'n' Get Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../help/ class=md-nav__link> Helping VidGear </a> </li> <li class=md-nav__item> <a href=../../../help/get_help/ class=md-nav__link> Getting Help </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> Frequently Asked Questions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Frequently Asked Questions" data-md-level=2> <label class=md-nav__title for=nav-4-2> <span class="md-nav__icon md-icon"></span> Frequently Asked Questions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../help/general_faqs/ class=md-nav__link> General FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/stabilizer_faqs/ class=md-nav__link> Stabilizer Class FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/camgear_faqs/ class=md-nav__link> CamGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/pigear_faqs/ class=md-nav__link> PiGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/videogear_faqs/ class=md-nav__link> VideoGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/screengear_faqs/ class=md-nav__link> ScreenGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/writegear_faqs/ class=md-nav__link> WriteGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/streamgear_faqs/ class=md-nav__link> StreamGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/netgear_faqs/ class=md-nav__link> NetGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/webgear_faqs/ class=md-nav__link> WebGear FAQs </a> </li> <li class=md-nav__item> <a href=../../../help/netgear_async_faqs/ class=md-nav__link> NetGear_Async FAQs </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#a-single-source-mode class=md-nav__link> A. Single-Source Mode </a> <nav class=md-nav aria-label="A. Single-Source Mode"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a1-bare-minimum-usage class=md-nav__link> A.1 Bare-Minimum Usage </a> </li> <li class=md-nav__item> <a href=#a2-bare-minimum-usage-with-live-streaming class=md-nav__link> A.2 Bare-Minimum Usage with Live-Streaming </a> </li> <li class=md-nav__item> <a href=#a3-usage-with-additional-streams class=md-nav__link> A.3 Usage with Additional Streams </a> </li> <li class=md-nav__item> <a href=#a4-usage-with-custom-audio class=md-nav__link> A.4 Usage with Custom Audio </a> </li> <li class=md-nav__item> <a href=#a5-usage-with-variable-ffmpeg-parameters class=md-nav__link> A.5 Usage with Variable FFmpeg Parameters </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#b-real-time-frames-mode class=md-nav__link> B. Real-time Frames Mode </a> <nav class=md-nav aria-label="B. Real-time Frames Mode"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#b1-bare-minimum-usage class=md-nav__link> B.1 Bare-Minimum Usage </a> </li> <li class=md-nav__item> <a href=#b2-bare-minimum-usage-with-live-streaming class=md-nav__link> B.2 Bare-Minimum Usage with Live-Streaming </a> </li> <li class=md-nav__item> <a href=#b3-bare-minimum-usage-with-rgb-mode class=md-nav__link> B.3 Bare-Minimum Usage with RGB Mode </a> </li> <li class=md-nav__item> <a href=#b4-bare-minimum-usage-with-controlled-input-framerate class=md-nav__link> B.4 Bare-Minimum Usage with controlled Input-framerate </a> </li> <li class=md-nav__item> <a href=#b5-bare-minimum-usage-with-opencv class=md-nav__link> B.5 Bare-Minimum Usage with OpenCV </a> </li> <li class=md-nav__item> <a href=#b6-usage-with-additional-streams class=md-nav__link> B.6 Usage with Additional Streams </a> </li> <li class=md-nav__item> <a href=#b7-usage-with-audio-input class=md-nav__link> B.7 Usage with Audio-Input </a> </li> <li class=md-nav__item> <a href=#b8-usage-with-hardware-video-encoder class=md-nav__link> B.8 Usage with Hardware Video-Encoder </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <!--
===============================================
vidgear library source-code is deployed under the Apache 2.0 License:

Copyright (c) 2019-2020 Abhishek Thakur(@abhiTronix) <abhi.una12@gmail.com>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
===============================================
--> <h1 id=streamgear-api-usage-examples>StreamGear API Usage Examples:<a class=headerlink href=#streamgear-api-usage-examples title="Permanent link">&para;</a></h1> <div class="admonition warning"> <p class=admonition-title>Important Information</p> <ul> <li> <p>StreamGear <strong>MUST</strong> requires FFmpeg executables for its core operations. Follow these dedicated <a href=../ffmpeg_install/ >Platform specific Installation Instructions ➶</a> for its installation.</p> </li> <li> <p>StreamGear API will throw <strong>RuntimeError</strong>, if it fails to detect valid FFmpeg executables on your system.</p> </li> <li> <p>By default, when no additional streams are defined, <mark>StreamGear generates a primary stream of same resolution and framerate<sup id=fnref3:1><a class=footnote-ref href=#fn:1>1</a></sup> as the input video <em>(at the index <code>0</code>)</em>.</mark></p> </li> <li> <p>Always use <code>terminate()</code> function at the very end of the main code.</p> </li> </ul> </div> <p>&thinsp;</p> <h2 id=a-single-source-mode>A. Single-Source Mode<a class=headerlink href=#a-single-source-mode title="Permanent link">&para;</a></h2> <figure> <img src=../../../assets/images/streamgear_file.webp loading=lazy alt="Single-Source Mode Flow Diagram"> <figcaption>Single-Source Mode generalized workflow</figcaption> </figure> <p>In this mode, StreamGear transcodes entire video/audio file <em>(as opposed to frames by frame)</em> into a sequence of multiple smaller chunks/segments for streaming. This mode works exceptionally well, when you're transcoding lossless long-duration videos(with audio) for streaming and required no extra efforts or interruptions. But on the downside, the provided source cannot be changed or manipulated before sending onto FFmpeg Pipeline for processing.</p> <p>This mode provide <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.transcode_source><code>transcode_source()</code></a> function to process audio-video files into streamable chunks.</p> <p>This mode can be easily activated by assigning suitable video path as input to <a href=../params/#a-exclusive-parameters><code>-video_source</code></a> attribute of <a href=../params/#stream_params><code>stream_params</code></a> dictionary parameter, during StreamGear initialization.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <ul> <li>Using <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.stream><code>stream()</code></a> function instead of <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.transcode_source><code>transcode_source()</code></a> in Single-Source Mode will instantly result in <strong><code>RuntimeError</code></strong>!</li> <li>Any invalid value to the <a href=../params/#a-exclusive-parameters><code>-video_source</code></a> attribute will result in <strong><code>AssertionError</code></strong>! </li> </ul> </div> <p>&thinsp;</p> <h3 id=a1-bare-minimum-usage>A.1 Bare-Minimum Usage<a class=headerlink href=#a1-bare-minimum-usage title="Permanent link">&para;</a></h3> <p>Following is the bare-minimum code you need to get started with StreamGear API in Single-Source Mode:</p> <div class="admonition note"> <p class=admonition-title>If input video-source <em>(i.e. <code>-video_source</code>)</em> contains any audio stream/channel, then it automatically gets mapped to all generated streams without any extra efforts.</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>

<span class=c1># activate Single-Source Mode with valid video input</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;-video_source&quot;</span><span class=p>:</span> <span class=s2>&quot;foo.mp4&quot;</span><span class=p>}</span>
<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>
<span class=c1># trancode source</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>transcode_source</span><span class=p>()</span>
<span class=c1># terminate</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <div class="admonition success"> <p class=admonition-title>After running these bare-minimum commands, StreamGear will produce a Manifest file <em>(<code>dash.mpd</code>)</em> with steamable chunks that contains information about a Primary Stream of same resolution and framerate as the input.</p> </div> <p>&thinsp;</p> <h3 id=a2-bare-minimum-usage-with-live-streaming>A.2 Bare-Minimum Usage with Live-Streaming<a class=headerlink href=#a2-bare-minimum-usage-with-live-streaming title="Permanent link">&para;</a></h3> <p>If you want to <strong>Livestream in Single-Source Mode</strong> <em>(chunks will contain information for few new frames only, and forgets all previous ones)</em>, you can use exclusive <a href=../params/#a-exclusive-parameters><code>-livestream</code></a> attribute of <code>stream_params</code> dictionary parameter as follows:</p> <div class="admonition tip"> <p class=admonition-title>Use <code>-window_size</code> &amp; <code>-extra_window_size</code> FFmpeg parameters for controlling number of frames to be kept in Chunks. Less these value, less will be latency.</p> </div> <div class="admonition warning"> <p class=admonition-title>All Chunks will be overwritten in this mode after every few Chunks <em>(equal to the sum of <code>-window_size</code> &amp; <code>-extra_window_size</code> values)</em>, Hence Newer Chunks and Manifest contains NO information of any older video-frames.</p> </div> <div class="admonition note"> <p class=admonition-title>If input video-source <em>(i.e. <code>-video_source</code>)</em> contains any audio stream/channel, then it automatically gets mapped to all generated streams without any extra efforts.</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>

<span class=c1># activate Single-Source Mode with valid video input and enable livestreaming</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;-video_source&quot;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>&quot;-livestream&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}</span>
<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>
<span class=c1># trancode source</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>transcode_source</span><span class=p>()</span>
<span class=c1># terminate</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=a3-usage-with-additional-streams>A.3 Usage with Additional Streams<a class=headerlink href=#a3-usage-with-additional-streams title="Permanent link">&para;</a></h3> <p>In addition to Primary Stream, you can easily generate any number of additional Secondary Streams of variable bitrates or spatial resolutions, using exclusive <a href=../params/#a-exclusive-parameters><code>-streams</code></a> attribute of <code>stream_params</code> dictionary parameter. You just need to add each resolution and bitrate/framerate as list of dictionaries to this attribute, and rest is done automatically <em>(More detailed information can be found <a href=../params/#a-exclusive-parameters>here ➶</a>)</em>. The complete example is as follows:</p> <div class="admonition note"> <p class=admonition-title>If input video-source contains any audio stream/channel, then it automatically gets assigned to all generated streams without any extra efforts.</p> </div> <div class="admonition danger"> <p class=admonition-title>Important <code>-streams</code> attribute Information</p> <ul> <li>On top of these additional streams, StreamGear by default, generates a primary stream of same resolution and framerate as the input, at the index <code>0</code>.</li> <li><img alt=⚠ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/26a0.svg title=:warning:> Make sure your System/Machine/Server/Network is able to handle these additional streams, discretion is advised! </li> <li>You <strong>MUST</strong> need to define <code>-resolution</code> value for your stream, otherwise stream will be discarded!</li> <li>You only need either of <code>-video_bitrate</code> or <code>-framerate</code> for defining a valid stream. Since with <code>-framerate</code> value defined, video-bitrate is calculated automatically.</li> <li>If you define both <code>-video_bitrate</code> and <code>-framerate</code> values at the same time, StreamGear will discard the <code>-framerate</code> value automatically.</li> </ul> </div> <div class="admonition fail"> <p class=admonition-title>Always use <code>-stream</code> attribute to define additional streams safely, any duplicate or incorrect definition can break things!</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>

<span class=c1># activate Single-Source Mode and also define various streams</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;-video_source&quot;</span><span class=p>:</span> <span class=s2>&quot;foo.mp4&quot;</span><span class=p>,</span>
    <span class=s2>&quot;-streams&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1920x1080&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;4000k&quot;</span><span class=p>},</span>  <span class=c1># Stream1: 1920x1080 at 4000kbs bitrate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1280x720&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>30.0</span><span class=p>},</span>  <span class=c1># Stream2: 1280x720 at 30fps framerate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;640x360&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>60.0</span><span class=p>},</span>  <span class=c1># Stream3: 640x360 at 60fps framerate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;320x240&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;500k&quot;</span><span class=p>},</span>  <span class=c1># Stream3: 320x240 at 500kbs bitrate</span>
    <span class=p>],</span>
<span class=p>}</span>
<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>
<span class=c1># trancode source</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>transcode_source</span><span class=p>()</span>
<span class=c1># terminate</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=a4-usage-with-custom-audio>A.4 Usage with Custom Audio<a class=headerlink href=#a4-usage-with-custom-audio title="Permanent link">&para;</a></h3> <p>By default, if input video-source <em>(i.e. <code>-video_source</code>)</em> contains any audio, then it gets automatically mapped to all generated streams. But, if you want to add any custom audio, you can easily do it by using exclusive <a href=../params/#a-exclusive-parameters><code>-audio</code></a> attribute of <code>stream_params</code> dictionary parameter. You just need to input the path of your audio file to this attribute as string, and StreamGear API will automatically validate and map it to all generated streams. The complete example is as follows:</p> <div class="admonition failure"> <p class=admonition-title>Make sure this <code>-audio</code> audio-source it compatible with provided video-source, otherwise you encounter multiple errors or no output at all.</p> </div> <div class="admonition tip"> <p class=admonition-title>You can also assign a valid Audio URL as input, rather than filepath. More details can be found <a href=../params/#a-exclusive-parameters>here ➶</a></p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>

<span class=c1># activate Single-Source Mode and various streams, along with custom audio</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;-video_source&quot;</span><span class=p>:</span> <span class=s2>&quot;foo.mp4&quot;</span><span class=p>,</span>
    <span class=s2>&quot;-streams&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1920x1080&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;4000k&quot;</span><span class=p>},</span>  <span class=c1># Stream1: 1920x1080 at 4000kbs bitrate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1280x720&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>30.0</span><span class=p>},</span>  <span class=c1># Stream2: 1280x720 at 30fps</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;640x360&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>60.0</span><span class=p>},</span>  <span class=c1># Stream3: 640x360 at 60fps</span>
    <span class=p>],</span>
    <span class=s2>&quot;-audio&quot;</span><span class=p>:</span> <span class=s2>&quot;/home/foo/foo1.aac&quot;</span> <span class=c1># assigns input audio-source: &quot;/home/foo/foo1.aac&quot;</span>
<span class=p>}</span>
<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>
<span class=c1># trancode source</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>transcode_source</span><span class=p>()</span>
<span class=c1># terminate</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=a5-usage-with-variable-ffmpeg-parameters>A.5 Usage with Variable FFmpeg Parameters<a class=headerlink href=#a5-usage-with-variable-ffmpeg-parameters title="Permanent link">&para;</a></h3> <p>For seamlessly generating these streaming assets, StreamGear provides a highly extensible and flexible wrapper around <a href=https://ffmpeg.org/ ><strong>FFmpeg</strong></a>, and access to almost all of its parameter. Hence, you can access almost any parameter available with FFmpeg itself as dictionary attributes in <a href=../params/#stream_params><code>stream_params</code> dictionary parameter</a>, and use it to manipulate transcoding as you like. </p> <p>For this example, let us use our own <a href=https://trac.ffmpeg.org/wiki/Encode/H.265>H.265/HEVC</a> video and <a href=https://trac.ffmpeg.org/wiki/Encode/AAC>AAC</a> audio encoder, and set custom audio bitrate, and various other optimizations:</p> <div class="admonition tip"> <p class=admonition-title>This example is just conveying the idea on how to use FFmpeg's encoders/parameters with StreamGear API. You can use any FFmpeg parameter in the similar manner.</p> </div> <div class="admonition danger"> <p class=admonition-title>Kindly read <a href=https://ffmpeg.org/documentation.html><strong>FFmpeg Docs</strong></a> carefully, before passing any FFmpeg values to <code>stream_params</code> parameter. Wrong values may result in undesired errors or no output at all.</p> </div> <div class="admonition fail"> <p class=admonition-title>Always use <code>-streams</code> attribute to define additional streams safely, any duplicate or incorrect stream definition can break things!</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>

<span class=c1># activate Single-Source Mode and various other parameters</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;-video_source&quot;</span><span class=p>:</span> <span class=s2>&quot;foo.mp4&quot;</span><span class=p>,</span> <span class=c1># define Video-Source</span>
    <span class=s2>&quot;-vcodec&quot;</span><span class=p>:</span> <span class=s2>&quot;libx265&quot;</span><span class=p>,</span> <span class=c1># assigns H.265/HEVC video encoder</span>
    <span class=s2>&quot;-x265-params&quot;</span><span class=p>:</span> <span class=s2>&quot;lossless=1&quot;</span><span class=p>,</span> <span class=c1># enables Lossless encoding</span>
    <span class=s2>&quot;-crf&quot;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span> <span class=c1># Constant Rate Factor: 25</span>
    <span class=s2>&quot;-bpp&quot;</span><span class=p>:</span> <span class=s2>&quot;0.15&quot;</span><span class=p>,</span> <span class=c1># Bits-Per-Pixel(BPP), an Internal StreamGear parameter to ensure good quality of high motion scenes</span>
    <span class=s2>&quot;-streams&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1280x720&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;4000k&quot;</span><span class=p>},</span> <span class=c1># Stream1: 1280x720 at 4000kbs bitrate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;640x360&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>60.0</span><span class=p>},</span>  <span class=c1># Stream2: 640x360 at 60fps</span>
    <span class=p>],</span>
    <span class=s2>&quot;-audio&quot;</span><span class=p>:</span> <span class=s2>&quot;/home/foo/foo1.aac&quot;</span><span class=p>,</span>  <span class=c1># define input audio-source: &quot;/home/foo/foo1.aac&quot;,</span>
    <span class=s2>&quot;-acodec&quot;</span><span class=p>:</span> <span class=s2>&quot;libfdk_aac&quot;</span><span class=p>,</span> <span class=c1># assign lossless AAC audio encoder</span>
    <span class=s2>&quot;-vbr&quot;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=c1># Variable Bit Rate: `4`</span>
<span class=p>}</span>

<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=n>logging</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>
<span class=c1># trancode source</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>transcode_source</span><span class=p>()</span>
<span class=c1># terminate</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&nbsp;</p> <p>&nbsp;</p> <h2 id=b-real-time-frames-mode>B. Real-time Frames Mode<a class=headerlink href=#b-real-time-frames-mode title="Permanent link">&para;</a></h2> <figure> <img src=../../../assets/images/streamgear_real.webp loading=lazy alt="Real-time Frames Mode Flow Diagram"> <figcaption>Real-time Frames Mode generalized workflow</figcaption> </figure> <p>When no valid input is received on <a href=../params/#a-exclusive-parameters><code>-video_source</code></a> attribute of <a href=../params/#supported-parameters><code>stream_params</code></a> dictionary parameter, StreamGear API activates this mode where it directly transcodes real-time <a href=https://numpy.org/doc/1.18/reference/generated/numpy.ndarray.html#numpy-ndarray><code>numpy.ndarray</code></a> video-frames <em>(as opposed to a entire file)</em> into a sequence of multiple smaller chunks/segments for streaming. </p> <p>In this mode, StreamGear <strong>DOES NOT</strong> automatically maps video-source audio to generated streams. You need to manually assign separate audio-source through <a href=../params/#a-exclusive-parameters><code>-audio</code></a> attribute of <code>stream_params</code> dictionary parameter.</p> <p>This mode provide <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.stream><code>stream()</code></a> function for directly trancoding video-frames into streamable chunks over the FFmpeg pipeline. </p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <ul> <li> <p>Using <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.transcode_source><code>transcode_source()</code></a> function instead of <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.stream><code>stream()</code></a> in Real-time Frames Mode will instantly result in <strong><code>RuntimeError</code></strong>!</p> </li> <li> <p><strong>NEVER</strong> assign anything to <a href=../params/#a-exclusive-parameters><code>-video_source</code></a> attribute of <a href=../params/#supported-parameters><code>stream_params</code></a> dictionary parameter, otherwise <a href=#a-single-source-mode>Single-Source Mode</a> may get activated, and as a result, using <a href=../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.stream><code>stream()</code></a> function will throw <strong><code>RuntimeError</code></strong>!</p> </li> <li> <p>In this mode, Primary Stream's framerate defaults to <a href=../params/#a-exclusive-parameters><code>-input_framerate</code></a> attribute value, if defined, else it will be <code>25.0</code> fps.</p> </li> </ul> </div> <p>&thinsp;</p> <h3 id=b1-bare-minimum-usage>B.1 Bare-Minimum Usage<a class=headerlink href=#b1-bare-minimum-usage title="Permanent link">&para;</a></h3> <p>Following is the bare-minimum code you need to get started with StreamGear API in Real-time Frames Mode:</p> <div class="admonition note"> <p class=admonition-title>We are using <a href=../../gears/camgear/overview/ >CamGear</a> in this Bare-Minimum example, but any <a href=../../gears/#a-videocapture-gears>VideoCapture Gear</a> will work in the similar manner.</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>CamGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># open any valid video stream(for e.g `foo1.mp4` file)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>CamGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=s1>&#39;foo1.mp4&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span> 

<span class=c1># describe a suitable manifest-file location/name</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {do something with the frame here}</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <div class="admonition success"> <p class=admonition-title>After running these bare-minimum commands, StreamGear will produce a Manifest file <em>(<code>dash.mpd</code>)</em> with steamable chunks that contains information about a Primary Stream of same resolution and framerate<sup id=fnref2:1><a class=footnote-ref href=#fn:1>1</a></sup> as input <em>(without any audio)</em>.</p> </div> <p>&thinsp;</p> <h3 id=b2-bare-minimum-usage-with-live-streaming>B.2 Bare-Minimum Usage with Live-Streaming<a class=headerlink href=#b2-bare-minimum-usage-with-live-streaming title="Permanent link">&para;</a></h3> <p>If you want to <strong>Livestream in Real-time Frames Mode</strong> <em>(chunks will contain information for few new frames only)</em>, which is excellent for building Low Latency solutions such as Live Camera Streaming, then you can use exclusive <a href=../params/#a-exclusive-parameters><code>-livestream</code></a> attribute of <code>stream_params</code> dictionary parameter as follows:</p> <div class="admonition tip"> <p class=admonition-title>Use <code>-window_size</code> &amp; <code>-extra_window_size</code> FFmpeg parameters for controlling number of frames to be kept in Chunks. Less these value, less will be latency.</p> </div> <div class="admonition warning"> <p class=admonition-title>All Chunks will be overwritten in this mode after every few Chunks <em>(equal to the sum of <code>-window_size</code> &amp; <code>-extra_window_size</code> values)</em>, Hence Newer Chunks and Manifest contains NO information of any older video-frames.</p> </div> <div class="admonition note"> <p class=admonition-title>If input video-source <em>(i.e. <code>-video_source</code>)</em> contains any audio stream/channel, then it automatically gets mapped to all generated streams without any extra efforts.</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>CamGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># open any valid video stream(from web-camera attached at index `0`)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>CamGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span> 

<span class=c1># enable livestreaming</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;-livestream&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}</span>

<span class=c1># describe a suitable manifest-file location/name</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {do something with the frame here}</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=b3-bare-minimum-usage-with-rgb-mode>B.3 Bare-Minimum Usage with RGB Mode<a class=headerlink href=#b3-bare-minimum-usage-with-rgb-mode title="Permanent link">&para;</a></h3> <p>In Real-time Frames Mode, StreamGear API provide <a href=../../../../bonus/reference/streamgear/#vidgear.gears.streamgear.StreamGear.stream><code>rgb_mode</code></a> boolean parameter with its <code>stream()</code> function, which if enabled <em>(i.e. <code>rgb_mode=True</code>)</em>, specifies that incoming frames are of RGB format <em>(instead of default BGR format)</em>, thereby also known as <mark>RGB Mode</mark>. The complete usage example is as follows:</p> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>CamGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># open any valid video stream(for e.g `foo1.mp4` file)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>CamGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=s1>&#39;foo1.mp4&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span> 

<span class=c1># describe a suitable manifest-file location/name</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {simulating RGB frame for this example}</span>
    <span class=n>frame_rgb</span> <span class=o>=</span> <span class=n>frame</span><span class=p>[:,:,::</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame_rgb</span><span class=p>,</span> <span class=n>rgb_mode</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=c1>#activate RGB Mode</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=b4-bare-minimum-usage-with-controlled-input-framerate>B.4 Bare-Minimum Usage with controlled Input-framerate<a class=headerlink href=#b4-bare-minimum-usage-with-controlled-input-framerate title="Permanent link">&para;</a></h3> <p>In Real-time Frames Mode, StreamGear API provides exclusive <a href=../params/#a-exclusive-parameters><code>-input_framerate</code></a> attribute for its <code>stream_params</code> dictionary parameter, that allow us to set the assumed constant framerate for incoming frames. In this example, we will retrieve framerate from webcam video-stream, and set it as value for <code>-input_framerate</code> attribute in StreamGear:</p> <div class="admonition tip"> <p class=admonition-title>Remember, the Primary Stream framerate default to <code>-input_framerate</code> attribute value <em>(if defined)</em> in Real-time Frames Mode.</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>CamGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># Open live video stream on webcam at first index(i.e. 0) device</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>CamGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>

<span class=c1># retrieve framerate from CamGear Stream and pass it as `-input_framerate` value</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;-input_framerate&quot;</span><span class=p>:</span><span class=n>stream</span><span class=o>.</span><span class=n>framerate</span><span class=p>}</span>

<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {do something with the frame here}</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=b5-bare-minimum-usage-with-opencv>B.5 Bare-Minimum Usage with OpenCV<a class=headerlink href=#b5-bare-minimum-usage-with-opencv title="Permanent link">&para;</a></h3> <p>You can easily use StreamGear API directly with any other Video Processing library(<em>For e.g. <a href=https://github.com/opencv/opencv>OpenCV</a> itself</em>) in Real-time Frames Mode. The complete usage example is as follows:</p> <div class="admonition tip"> <p class=admonition-title>This just a bare-minimum example with OpenCV, but any other Real-time Frames Mode feature/example will work in the similar manner.</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># Open suitable video stream, such as webcam on first index(i.e. 0)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>VideoCapture</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> 

<span class=c1># describe a suitable manifest-file location/name</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=p>(</span><span class=n>grabbed</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if not grabbed</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>grabbed</span><span class=p>:</span>
      <span class=k>break</span>

    <span class=c1># {do something with the frame here}</span>
    <span class=c1># lets convert frame to gray for this example</span>
    <span class=n>gray</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>cvtColor</span><span class=p>(</span><span class=n>frame</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>COLOR_BGR2GRAY</span><span class=p>)</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>gray</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Gray Frame&quot;</span><span class=p>,</span> <span class=n>gray</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>release</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=b6-usage-with-additional-streams>B.6 Usage with Additional Streams<a class=headerlink href=#b6-usage-with-additional-streams title="Permanent link">&para;</a></h3> <p>Similar to Single-Source Mode, you can easily generate any number of additional Secondary Streams of variable bitrates or spatial resolutions, using exclusive <a href=../params/#a-exclusive-parameters><code>-streams</code></a> attribute of <code>stream_params</code> dictionary parameter <em>(More detailed information can be found <a href=../params/#a-exclusive-parameters>here ➶</a>)</em> in Real-time Frames Mode. The complete example is as follows:</p> <div class="admonition danger"> <p class=admonition-title>Important <code>-streams</code> attribute Information</p> <ul> <li>On top of these additional streams, StreamGear by default, generates a primary stream of same resolution and framerate<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup> as the input, at the index <code>0</code>.</li> <li><img alt=⚠ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/26a0.svg title=:warning:> Make sure your System/Machine/Server/Network is able to handle these additional streams, discretion is advised! </li> <li>You <strong>MUST</strong> need to define <code>-resolution</code> value for your stream, otherwise stream will be discarded!</li> <li>You only need either of <code>-video_bitrate</code> or <code>-framerate</code> for defining a valid stream. Since with <code>-framerate</code> value defined, video-bitrate is calculated automatically.</li> <li>If you define both <code>-video_bitrate</code> and <code>-framerate</code> values at the same time, StreamGear will discard the <code>-framerate</code> value automatically.</li> </ul> </div> <div class="admonition fail"> <p class=admonition-title>Always use <code>-stream</code> attribute to define additional streams safely, any duplicate or incorrect definition can break things!</p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>CamGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># Open suitable video stream, such as webcam on first index(i.e. 0)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>CamGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span> 

<span class=c1># define various streams</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;-streams&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1280x720&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>30.0</span><span class=p>},</span>  <span class=c1># Stream2: 1280x720 at 30fps framerate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;640x360&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>60.0</span><span class=p>},</span>  <span class=c1># Stream3: 640x360 at 60fps framerate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;320x240&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;500k&quot;</span><span class=p>},</span>  <span class=c1># Stream3: 320x240 at 500kbs bitrate</span>
    <span class=p>],</span>
<span class=p>}</span>

<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {do something with the frame here}</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=b7-usage-with-audio-input>B.7 Usage with Audio-Input<a class=headerlink href=#b7-usage-with-audio-input title="Permanent link">&para;</a></h3> <p>In Real-time Frames Mode, if you want to add audio to your streams, you've to use exclusive <a href=../params/#a-exclusive-parameters><code>-audio</code></a> attribute of <code>stream_params</code> dictionary parameter. You need to input the path of your audio to this attribute as string value, and StreamGear API will automatically validate and map it to all generated streams. The complete example is as follows:</p> <div class="admonition failure"> <p class=admonition-title>Make sure this <code>-audio</code> audio-source it compatible with provided video-source, otherwise you encounter multiple errors or no output at all.</p> </div> <div class="admonition tip"> <p class=admonition-title>You can also assign a valid Audio URL as input, rather than filepath. More details can be found <a href=../params/#a-exclusive-parameters>here ➶</a></p> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>CamGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># open any valid video stream(for e.g `foo1.mp4` file)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>CamGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=s1>&#39;foo1.mp4&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span> 

<span class=c1># activate Single-Source Mode and various streams, along with custom audio</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;-streams&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1920x1080&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;4000k&quot;</span><span class=p>},</span>  <span class=c1># Stream1: 1920x1080 at 4000kbs bitrate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1280x720&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>30.0</span><span class=p>},</span>  <span class=c1># Stream2: 1280x720 at 30fps</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;640x360&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>60.0</span><span class=p>},</span>  <span class=c1># Stream3: 640x360 at 60fps</span>
    <span class=p>],</span>
    <span class=s2>&quot;-audio&quot;</span><span class=p>:</span> <span class=s2>&quot;/home/foo/foo1.aac&quot;</span> <span class=c1># assigns input audio-source: &quot;/home/foo/foo1.aac&quot;</span>
<span class=p>}</span>

<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {do something with the frame here}</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&thinsp;</p> <h3 id=b8-usage-with-hardware-video-encoder>B.8 Usage with Hardware Video-Encoder<a class=headerlink href=#b8-usage-with-hardware-video-encoder title="Permanent link">&para;</a></h3> <p>In Real-time Frames Mode, you can also easily change encoder as per your requirement just by passing <code>-vcodec</code> FFmpeg parameter as an attribute in <code>stream_params</code> dictionary parameter. In addition to this, you can also specify the additional properties/features/optimizations for your system's GPU similarly. </p> <p>In this example, we will be using <code>h264_vaapi</code> as our hardware encoder and also optionally be specifying our device hardware's location (i.e. <code>'-vaapi_device':'/dev/dri/renderD128'</code>) and other features such as <code>'-vf':'format=nv12,hwupload'</code> like properties by formatting them as <code>option</code> dictionary parameter's attributes, as follows:</p> <div class="admonition warning"> <p class=admonition-title>Check VAAPI support</p> <p><strong>This example is just conveying the idea on how to use FFmpeg's hardware encoders with WriteGear API in Compression mode, which MAY/MAY-NOT suit your system. Kindly use suitable parameters based your supported system and FFmpeg configurations only.</strong></p> <p>To use <code>h264_vaapi</code> encoder, remember to check if its available and your FFmpeg compiled with VAAPI support. You can easily do this by executing following one-liner command in your terminal, and observing if output contains something similar as follows:</p> <div class=highlight><pre><span></span><code>ffmpeg  -hide_banner -encoders <span class=p>|</span> grep vaapi 

 V..... h264_vaapi           H.264/AVC <span class=o>(</span>VAAPI<span class=o>)</span> <span class=o>(</span>codec h264<span class=o>)</span>
 V..... hevc_vaapi           H.265/HEVC <span class=o>(</span>VAAPI<span class=o>)</span> <span class=o>(</span>codec hevc<span class=o>)</span>
 V..... mjpeg_vaapi          MJPEG <span class=o>(</span>VAAPI<span class=o>)</span> <span class=o>(</span>codec mjpeg<span class=o>)</span>
 V..... mpeg2_vaapi          MPEG-2 <span class=o>(</span>VAAPI<span class=o>)</span> <span class=o>(</span>codec mpeg2video<span class=o>)</span>
 V..... vp8_vaapi            VP8 <span class=o>(</span>VAAPI<span class=o>)</span> <span class=o>(</span>codec vp8<span class=o>)</span>
</code></pre></div> </div> <div class=highlight><pre><span></span><code><span class=c1># import required libraries</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>VideoGear</span>
<span class=kn>from</span> <span class=nn>vidgear.gears</span> <span class=kn>import</span> <span class=n>StreamGear</span>
<span class=kn>import</span> <span class=nn>cv2</span>

<span class=c1># Open suitable video stream, such as webcam on first index(i.e. 0)</span>
<span class=n>stream</span> <span class=o>=</span> <span class=n>VideoGear</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span> 

<span class=c1># activate Single-Source Mode and various streams with custom Video Encoder and optimizations</span>
<span class=n>stream_params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;-streams&quot;</span><span class=p>:</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1920x1080&quot;</span><span class=p>,</span> <span class=s2>&quot;-video_bitrate&quot;</span><span class=p>:</span> <span class=s2>&quot;4000k&quot;</span><span class=p>},</span>  <span class=c1># Stream1: 1920x1080 at 4000kbs bitrate</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;1280x720&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>30.0</span><span class=p>},</span>  <span class=c1># Stream2: 1280x720 at 30fps</span>
        <span class=p>{</span><span class=s2>&quot;-resolution&quot;</span><span class=p>:</span> <span class=s2>&quot;640x360&quot;</span><span class=p>,</span> <span class=s2>&quot;-framerate&quot;</span><span class=p>:</span> <span class=mf>60.0</span><span class=p>},</span>  <span class=c1># Stream3: 640x360 at 60fps</span>
    <span class=p>],</span>
    <span class=s2>&quot;-vcodec&quot;</span><span class=p>:</span> <span class=s2>&quot;h264_vaapi&quot;</span><span class=p>,</span> <span class=c1># define custom Video encoder</span>
    <span class=s2>&quot;-vaapi_device&quot;</span><span class=p>:</span> <span class=s2>&quot;/dev/dri/renderD128&quot;</span><span class=p>,</span> <span class=c1># define device location</span>
    <span class=s2>&quot;-vf&quot;</span><span class=p>:</span> <span class=s2>&quot;format=nv12,hwupload&quot;</span><span class=p>,</span>  <span class=c1># define video pixformat</span>
<span class=p>}</span>

<span class=c1># describe a suitable manifest-file location/name and assign params</span>
<span class=n>streamer</span> <span class=o>=</span> <span class=n>StreamGear</span><span class=p>(</span><span class=n>output</span><span class=o>=</span><span class=s2>&quot;dash_out.mpd&quot;</span><span class=p>,</span> <span class=o>**</span><span class=n>stream_params</span><span class=p>)</span>

<span class=c1># loop over</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=c1># read frames from stream</span>
    <span class=n>frame</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

    <span class=c1># check for frame if Nonetype</span>
    <span class=k>if</span> <span class=n>frame</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>break</span>


    <span class=c1># {do something with the frame here}</span>


    <span class=c1># send frame to streamer</span>
    <span class=n>streamer</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>

    <span class=c1># Show output window</span>
    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s2>&quot;Output Frame&quot;</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>

    <span class=c1># check for &#39;q&#39; key if pressed</span>
    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span>
    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s2>&quot;q&quot;</span><span class=p>):</span>
        <span class=k>break</span>

<span class=c1># close output window</span>
<span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>

<span class=c1># safely close video stream</span>
<span class=n>stream</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=c1># safely close streamer</span>
<span class=n>streamer</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</code></pre></div> <p>&nbsp;</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p><img alt=💡 class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/1f4a1.svg title=:bulb:> In Real-time Frames Mode, the Primary Stream's framerate defaults to <a href=../params/#a-exclusive-parameters><code>-input_framerate</code></a> attribute value, if defined, else it will be 25fps.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref2:1 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref3:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> </ol> </div> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 21, 2020</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../overview/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Overview </div> </div> </a> <a href=../ffmpeg_install/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> FFmpeg Installation </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 - 2021 Abhishek Thakur(@abhiTronix) </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/abhiTronix target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/vidgear/community target=_blank rel=noopener title=gitter.im class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://twitter.com/abhi_una12 target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/in/abhishek-singh-thakur-a37845a5 target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.08c56446.min.js></script> <script src=../../../assets/javascripts/bundle.6ced434e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src=../../../assets/javascripts/extra.js></script> <script src=../../../assets/javascripts/version-select.js></script> </body> </html>